(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"7SZd":function(e,t,n){"use strict";var a=n("wx14"),i=n("Ff2n"),o=n("q1tI"),r=n("iuhU"),l=n("ofer"),s=n("H2TA"),c=n("4hqb"),m=o.forwardRef((function(e,t){var n=e.children,s=e.classes,m=e.className,p=e.component,d=void 0===p?"div":p,u=e.disablePointerEvents,b=void 0!==u&&u,g=e.disableTypography,h=void 0!==g&&g,f=e.position,v=e.variant,j=Object(i.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),O=Object(c.b)()||{},E=v;return v&&O.variant,O&&!E&&(E=O.variant),o.createElement(c.a.Provider,{value:null},o.createElement(d,Object(a.a)({className:Object(r.a)(s.root,m,b&&s.disablePointerEvents,O.hiddenLabel&&s.hiddenLabel,"filled"===E&&s.filled,{start:s.positionStart,end:s.positionEnd}[f],"dense"===O.margin&&s.marginDense),ref:t},j),"string"!=typeof n||h?n:o.createElement(l.a,{color:"textSecondary"},n)))}));t.a=Object(s.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(m)},AmMS:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a=n("q1tI"),i=n.n(a),o=n("ADg1"),r=n("1AYd"),l=n("KmP9"),s=n("7SZd"),c=n("r9w1"),m=n("R/WZ"),p=n("iuhU"),d=n("Z3vd"),u=n("CC8b"),b=n("wb2y"),g=n("FXBi"),h=n("tRbT"),f=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"flex-start"},fc:{margin:"17px",minWidth:"300px"}}}));function v(e){var t=f(),n=Object(a.useState)(!1),m=n[0],v=n[1],j=Object(a.useState)({name:null,phone:null,nickname:"",blok:null,image:""}),O=j[0],E=j[1],y=Object(a.useState)({name:[!1,""],phone:[!1,""],nickname:[!1,""],blok:[!1,""],image:[!1,""]}),k=y[0],w=y[1],x=function(e){return function(t){if("image"===e){var n,a=t.target.files[0];if(void 0===a)return void E(Object.assign({},O,(n={},n[e]="",n)));if("string"==typeof a.type&&!["image/png","image/jpeg","image/jpg"].includes(a.type))return void w(Object.assign({},k,{image:[!0,"Supported file: png, jpg, jpeg"]}));var i=URL.createObjectURL(a);(r=i,fetch(r).then((function(e){return e.blob()})).then((function(e){return new Promise((function(t,n){var a=new FileReader;a.onloadend=function(){return t(a.result)},a.onerror=n,a.readAsDataURL(e)}))}))).then((function(t){var n;E(Object.assign({},O,((n={})[e]=t,n)))})),w(Object.assign({},k,{image:[!1,""]}))}else{var o;E(Object.assign({},O,((o={})[e]=t.target.value,o)))}var r}},C=function(e){return""===e||"string"==typeof e&&""===e.trim()},S=function(e){return void 0===e&&(e=!1),!e||"string"==typeof O.name&&""!==O.name?C(O.name)?(w(Object.assign({},k,{name:[!0,"Cannot Empty"]})),!1):(E(Object.assign({},O,{name:(t=O.name,t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})))})),w(Object.assign({},k,{name:[!1,""]})),!0):(w(Object.assign({},k,{name:[!0,"Cannot Empty"]})),!1);var t},N=function(e){return void 0===e&&(e=!1),!e||"string"==typeof O.phone&&""!==O.phone?C(O.phone)?(w(Object.assign({},k,{phone:[!0,"Cannot Empty"]})),!1):("string"==typeof O.phone&&(O.phone=O.phone.replace(" ",""),O.phone=O.phone.replace("+62",""),O.phone.startsWith("0")&&(O.phone=O.phone.substring(1))),/^\d+$/.test(O.phone)?(E(Object.assign({},O,{phone:O.phone})),w(Object.assign({},k,{phone:[!1,""]})),!0):(w(Object.assign({},k,{phone:[!0,"Only number allowed"]})),!1)):(w(Object.assign({},k,{phone:[!0,"Cannot Empty"]})),!1)},A=function(e){return void 0===e&&(e=!1),!e||"string"==typeof O.blok&&""!==O.blok?C(O.blok)?(w(Object.assign({},k,{blok:[!0,"Cannot Empty"]})),!1):("string"==typeof O.blok&&(O.blok=O.blok.toUpperCase()),/^[A-Z][0-9]+$/.test(O.blok)?(E(Object.assign({},O,{blok:O.blok})),w(Object.assign({},k,{blok:[!1,""]})),!0):(w(Object.assign({},k,{blok:[!0,"Example format: A1, B15, C215"]})),!1)):(w(Object.assign({},k,{blok:[!0,"Cannot Empty"]})),!1)};return i.a.createElement("div",{className:Object(p.a)(t.root)},i.a.createElement("h2",null,"Add new"),i.a.createElement(o.a,{className:Object(p.a)(t.fc),variant:"outlined"},i.a.createElement(c.a,{error:k.name[0],helperText:k.name[1],id:"name",label:"Name",type:"text",value:O.name,onChange:x("name"),onBlur:S,placeholder:"John Doe",labelWidth:45,variant:"outlined",required:!0})),i.a.createElement(o.a,{className:Object(p.a)(t.fc),variant:"outlined"},i.a.createElement(c.a,{error:k.phone[0],helperText:k.phone[1],id:"phone",label:"Phone",type:"text",value:O.phone,onChange:x("phone"),onBlur:N,InputProps:{startAdornment:i.a.createElement(s.a,{position:"start"},"+62")},labelWidth:50,variant:"outlined",required:!0})),i.a.createElement(o.a,{className:Object(p.a)(t.fc),variant:"outlined"},i.a.createElement(r.a,{htmlFor:"nickname"},"Nickname"),i.a.createElement(l.a,{id:"nickname",type:"text",value:O.nickname,onChange:x("nickname"),placeholder:"Mas "+("string"==typeof O.name&&O.name.split(" ")[0]||"John")+", Pak "+("string"==typeof O.name&&O.name.split(" ")[0]||"John")+", "+("string"==typeof O.name&&O.name.split(" ")[0]||"John"),labelWidth:75})),i.a.createElement(o.a,{className:Object(p.a)(t.fc),variant:"outlined"},i.a.createElement(c.a,{error:k.blok[0],helperText:k.blok[1],id:"blok",label:"Blok",type:"text",value:O.blok,onChange:x("blok"),onBlur:A,labelWidth:32,placeholder:"A1",variant:"outlined",required:!0})),i.a.createElement(o.a,{className:Object(p.a)(t.fc),variant:"outlined"},i.a.createElement(c.a,{error:k.image[0],helperText:k.image[1],label:"Foto",id:"foto",type:"file",inputProps:{accept:"image/x-png,image/jpeg"},onChange:x("image"),InputProps:{startAdornment:i.a.createElement(s.a,{position:"start"})},labelWidth:35,variant:"outlined"})),i.a.createElement("div",{style:{margin:"9px"}},i.a.createElement(b.a,null)),i.a.createElement(h.a,{container:!0,spacing:2},i.a.createElement(h.a,{item:!0,xs:3},i.a.createElement(g.a,O))),i.a.createElement(d.a,{style:{margin:"17px"},onClick:function(){v(!0),S(!0)&&N(!0)&&A(!0)?Object(u.a)(Object.assign({},O,{phone:"+62"+O.phone})).then((function(e){alert("Create success");"undefined"!=typeof window&&(window.location="/admin")})).catch((function(e){alert("Create failed: "+(e.msg||"Unknown")),v(!1)})):v(!1)},variant:"contained",color:"default",disabled:m},"Submit"))}var j=n("e13s"),O=n("leyo"),E=n("Ji2X");n("RNSL"),n("kqwN");function y(e){var t=Object(a.useState)((new j.a).get("_awa")),n=t[0];t[1];return i.a.createElement(a.Fragment,null,i.a.createElement(O.a,null),i.a.createElement(E.a,{style:{marginTop:"18px"}},n?i.a.createElement(v,null):void("undefined"!=typeof window&&(window.location="/"))))}},wb2y:function(e,t,n){"use strict";var a=n("wx14"),i=n("Ff2n"),o=n("q1tI"),r=n("iuhU"),l=n("H2TA"),s=n("ye/S"),c=o.forwardRef((function(e,t){var n=e.absolute,l=void 0!==n&&n,s=e.classes,c=e.className,m=e.component,p=void 0===m?"hr":m,d=e.flexItem,u=void 0!==d&&d,b=e.light,g=void 0!==b&&b,h=e.orientation,f=void 0===h?"horizontal":h,v=e.role,j=void 0===v?"hr"!==p?"separator":void 0:v,O=e.variant,E=void 0===O?"fullWidth":O,y=Object(i.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return o.createElement(p,Object(a.a)({className:Object(r.a)(s.root,c,"fullWidth"!==E&&s[E],l&&s.absolute,u&&s.flexItem,g&&s.light,"vertical"===f&&s.vertical),role:j,ref:t},y))}));t.a=Object(l.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(s.b)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(c)}}]);
//# sourceMappingURL=component---src-pages-admin-new-js-f4de7de336937d165fb7.js.map